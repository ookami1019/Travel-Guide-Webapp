# エディタUI刷新：論理ページ指向と厳密なレイアウト制約の実装計画

## 目的
ユーザーが「今何ページ目を編集しているか」を直感的に理解できるようにし、印刷時にコンテンツがはみ出す問題を根本的に解決する。

## Proposed Changes

### [Layout] プロフェッショナル3カラム構成
- **左サイドバー (狭値化)**: ページサムネイルのみをコンパクトに表示（幅160〜200px程度）。
- **中央キャンバス (プレビュー専用)**: 実際のページをプレビュー。ダイレクトな入力は行わず、仕上がりの視覚確認に特化。
- **右サイドバー (編集パネル)**: 選択されているページのブロック内容を編集するためのフォームや入力を集約。

### [Editor logic] プレビューと編集の同期
- 右パネルでの入力内容を即座に中央プレビューに反映（Single Source of Truth）。
- 各ブロックコンポーネント（行程、持ち物など）に、表示専用（Readonly）モードと編集モードを実装。

### [Style] 厳格なサイズ制約
- **Page Container**: 高さをA4相当（例：842px）に固定し、`overflow-hidden` を適用。スクロールバーを完全に排除する。
- **Overflow Detection**: コンテンツがページ高さを超えた場合、自動的に要素間の余白（gap）を詰めたり、フォントサイズを微調整したりする「Fit to Page」ロジップを検討。

### [Logic] コンテンツの自動流し込み（溢れ調整）
- 行程表などのアイテムが増えてページを溢れた場合：
    1. アイテム間のマージンや高さを縮小。
    2. それでも収まらない場合は、自動的に「次のページ」へ残りのアイテムを移動させる。

### [Refactoring] プレビュー機能の再定義
- エディタでは「ページ順」に集中。
- 「PDF出力」ボタンを押した際、または専用タブにて、物理的な用紙配置（サドルステッチ面付け）の最終プレビューを表示する。

## Verification Plan
1. サイドバーで P1 -> P2 -> P3 と順番に編集できるか。
2. コンテンツを大量に追加した際、ページの下端でスクロールが発生せず、適切に処理（自動縮小またはページ跨ぎ）されるか。
3. PDF出力時に、論理ページが正しく面付け（P4 & P1など）されて出力されるか。
